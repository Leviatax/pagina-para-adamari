<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PARA MI NIÑA DRAMAS</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;700&display=swap" rel="stylesheet">
<style>
    /* VARIABLES Y ESTILOS GLOBALES */
    :root {
        --color-primario: #ff85a2;
        --color-secundario: #ff6b9d;
        --fondo-oscuro: #1a1a2e;
        --fondo-gradiente: linear-gradient(135deg, #1a1a2e 0%, #2a1b3d 100%);
        --texto-claro: #ffffff;
        --sombra-destacada: 0 0 10px rgba(255, 133, 162, 0.7);
        --transicion-suave: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        --texto-oscuro-transparente: rgba(0, 0, 0, 0.7);
    }
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }
    html {
        scroll-behavior: smooth;
    }
    body {
        background: var(--fondo-gradiente);
        font-family: 'Poppins', sans-serif;
        color: var(--texto-claro);
        line-height: 1.6;
        overflow-x: hidden;
        min-height: 100vh;
        padding: 20px;
        position: relative;
        -webkit-tap-highlight-color: transparent;
        text-align: center;
        transition: background-color 1s;
    }
    main {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        position: relative;
        z-index: 1;
        opacity: 0;
        transition: opacity 1s ease-in-out;
    }

    /* PANTALLA DE BIENVENIDA */
    #welcome-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: var(--fondo-gradiente);
        z-index: 9999;
        text-align: center;
        animation: fadeIn 1s ease-in-out;
    }
    #welcome-screen h2 {
        font-size: clamp(2rem, 8vw, 3rem);
        color: var(--color-primario);
        margin-bottom: 5px;
        text-shadow: var(--sombra-destacada);
    }
    #welcome-screen p {
        font-size: clamp(1rem, 4vw, 1.2rem);
        color: rgba(255, 255, 255, 0.8);
        margin-bottom: 30px;
        font-weight: 300;
    }
    #enter-button {
        padding: 15px 30px;
        font-size: clamp(1.2rem, 5vw, 1.5rem);
        font-weight: 700;
        color: var(--fondo-oscuro);
        background: var(--color-primario);
        border: none;
        border-radius: 50px;
        cursor: pointer;
        box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        transition: var(--transicion-suave);
    }
    #enter-button:hover {
        background: var(--color-secundario);
        transform: scale(1.05);
        box-shadow: 0 8px 25px rgba(0,0,0,0.4);
    }

    /* ENCABEZADOS Y ELEMENTOS PRINCIPALES */
    h1 {
        font-size: clamp(1.8rem, 5vw, 2.3rem);
        margin: 15px 0;
        color: var(--color-primario);
        text-shadow: var(--sombra-destacada);
        background: rgba(0, 0, 0, 0.3);
        padding: 12px 25px;
        border-radius: 50px;
        display: inline-block;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-weight: 700;
        transition: var(--transicion-suave);
        backdrop-filter: blur(5px);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
    h1:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(255, 133, 162, 0.5);
    }
    .tarjeta {
        background: rgba(0, 0, 0, 0.4);
        padding: 25px;
        border-radius: 20px;
        box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        margin: 25px 0;
        transition: var(--transicion-suave);
        position: relative;
        overflow: hidden;
        text-align: left;
    }
    .tarjeta:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 40px rgba(0,0,0,0.4);
    }
    .seccion {
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px dashed rgba(255, 255, 255, 0.2);
    }
    .seccion:last-child {
        border-bottom: none;
    }
    ul.lista-amor {
        list-style-type: none;
        padding-left: 20px;
    }
    ul.lista-amor li {
        position: relative;
        padding-left: 25px;
        margin-bottom: 10px;
    }
    ul.lista-amor li::before {
        content: "❤️";
        position: absolute;
        left: 0;
        top: 1px;
    }
    .firma {
        font-style: italic;
        text-align: right;
        margin-top: 30px;
        font-size: 1.2em;
        color: var(--color-primario);
        font-weight: 500;
    }

    /* GALERÍA E IMÁGENES */
    .galeria {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
        margin: 30px 0;
    }
    @media (min-width: 600px) {
        .galeria {
            grid-template-columns: 1fr 1fr;
        }
    }
    .imagen-container, .gif-container {
        position: relative;
        width: 100%;
        height: auto;
    }
    .gif-container, .imagen-container {
        cursor: pointer;
        margin-bottom: 15px;
    }
    .texto-oculto {
        display: none;
        position: relative;
        background: rgba(255, 133, 162, 0.2);
        padding: 20px;
        border-radius: 15px;
        margin-top: 10px;
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 133, 162, 0.4);
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        animation: fadeIn 0.5s ease-out;
        text-align: center;
        color: var(--texto-claro);
        font-weight: 400;
    }
    .texto-oculto p {
        color: var(--texto-claro);
    }
    .texto-oculto::before {
        content: "";
        position: absolute;
        top: -10px;
        left: 20px;
        width: 0;
        height: 0;
        border-left: 10px solid transparent;
        border-right: 10px solid transparent;
        border-bottom: 10px solid rgba(255, 133, 162, 0.2);
    }
    .galeria img, .gif-container img {
        width: 100%;
        height: auto;
        max-height: 500px;
        object-fit: contain;
        border-radius: 15px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.5);
        transition: var(--transicion-suave);
        border: 2px solid rgba(255, 255, 255, 0.1);
    }
    .galeria img:hover {
        transform: scale(1.01);
    }

    /* EFECTOS DE FONDO */
    .medusa {
        position: fixed;
        width: 60px;
        height: 60px;
        animation: flotar 8s ease-in-out infinite;
        z-index: 0;
        opacity: 0.8;
        pointer-events: none;
        user-select: none;
        filter: drop-shadow(0 0 5px rgba(255, 133, 162, 0.5));
    }
    .corazon {
        position: fixed;
        font-size: 16px;
        animation: caer 6s linear infinite;
        z-index: 0;
        pointer-events: none;
        opacity: 0;
        text-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
        top: -30px;
    }
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    @keyframes flotar {
        0% { transform: translate(0, 0) rotate(0deg); }
        50% { transform: translate(20px, -30px) rotate(10deg); }
        100% { transform: translate(0, 0) rotate(0deg); }
    }
    @keyframes caer {
        0% { transform: translateY(0) rotate(0deg) scale(0.7); opacity: 0; }
        20% { opacity: 0.7; }
        80% { opacity: 0.5; }
        100% { transform: translateY(100vh) rotate(180deg) scale(0.9); opacity: 0; }
    }

    /* REPRODUCTOR DE MÚSICA */
    .contenedor-reproductor {
        position: fixed;
        bottom: 20px;
        right: 20px;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        gap: 10px;
        z-index: 1000;
        display: none;
    }
    .dedicatoria {
        background: rgba(255, 133, 162, 0.2);
        color: white;
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 0.9em;
        margin-top: -5px;
        backdrop-filter: blur(5px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        opacity: 0;
        transform: translateY(10px);
        transition: var(--transicion-suave);
    }
    .dedicatoria.mostrar {
        opacity: 1;
        transform: translateY(0);
    }
    .gif-baile {
        width: 150px;
        height: 150px;
        object-fit: contain;
        margin-bottom: -30px;
        opacity: 0;
        transform: translateY(20px);
        transition: var(--transicion-suave);
        filter: drop-shadow(0 0 10px rgba(255, 133, 162, 0.7));
        border-radius: 50%;
        pointer-events: none;
    }
    .gif-baile.activo {
        opacity: 1;
        transform: translateY(0);
    }
    .reproductor {
        background: rgba(0, 0, 0, 0.7);
        border-radius: 50px;
        padding: 12px 25px;
        display: flex;
        align-items: center;
        gap: 15px;
        backdrop-filter: blur(5px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: var(--transicion-suave);
        box-shadow: 0 5px 20px rgba(0,0,0,0.4);
    }
    .reproductor:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 25px rgba(0,0,0,0.5);
    }
    .reproductor.error {
        background: rgba(255, 0, 0, 0.3);
    }
    .controles {
        display: flex;
        align-items: center;
        gap: 8px;
    }
    .boton-musica {
        background: var(--color-primario);
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 22px;
        transition: var(--transicion-suave);
        box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    }
    .boton-musica:hover {
        background: var(--color-secundario);
        transform: scale(1.1);
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    .boton-musica:active {
        transform: scale(0.95);
    }
    .boton-skip {
        background: rgba(255, 255, 255, 0.15);
        border: none;
        width: 45px;
        height: 45px;
        border-radius: 50%;
        color: white;
        font-size: 20px;
        cursor: pointer;
        transition: var(--transicion-suave);
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    .boton-skip:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: scale(1.1);
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }
    .boton-skip:active {
        transform: scale(0.95);
    }
    .info-cancion {
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: 1em;
        padding: 0 15px;
    }
    .barra-progreso {
        flex-grow: 1;
        height: 5px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 3px;
        margin: 0 15px;
        overflow: hidden;
    }
    .progreso {
        height: 100%;
        background: linear-gradient(to right, var(--color-primario), var(--color-secundario));
        width: 0%;
        transition: width 0.1s linear;
        border-radius: 3px;
    }

    /* POPUP (MODAL) PARA POEMAS */
    .modal {
        display: none;
        position: fixed;
        z-index: 2000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0,0,0,0.8);
        backdrop-filter: blur(10px);
    }
    .modal-contenido {
        background: rgba(26, 26, 46, 0.95);
        margin: 10% auto;
        padding: 30px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        width: 90%;
        max-width: 450px;
        border-radius: 25px;
        box-shadow: 0 10px 40px rgba(0,0,0,0.6);
        text-align: center;
        animation: zoomIn 0.3s ease-out;
        position: relative;
    }
    .modal-contenido h2 {
        color: var(--color-primario);
        margin-bottom: 15px;
        font-size: 1.6em;
        font-weight: 700;
        text-transform: uppercase;
        text-align: center;
    }
    .modal-contenido p {
        white-space: pre-wrap;
        font-style: italic;
        font-size: 1em;
        line-height: 1.8;
        text-align: center;
    }
    .cerrar {
        color: var(--texto-claro);
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 30px;
        font-weight: bold;
        transition: var(--transicion-suave);
    }
    .cerrar:hover,
    .cerrar:focus {
        color: var(--color-primario);
        text-decoration: none;
        cursor: pointer;
        transform: scale(1.1);
    }
    @keyframes zoomIn {
        from { transform: scale(0.8); opacity: 0; }
        to { transform: scale(1); opacity: 1; }
    }

    /* RESPONSIVE DESIGN */
    @media (max-width: 768px) {
        .gif-baile {
            width: 120px;
            height: 120px;
        }
        .reproductor {
            padding: 10px 20px;
        }
        .boton-musica {
            width: 45px;
            height: 45px;
            font-size: 20px;
        }
        .boton-skip {
            width: 40px;
            height: 40px;
            font-size: 18px;
        }
        .dedicatoria {
            font-size: 0.8em;
            padding: 6px 12px;
        }
    }
    @media (max-width: 600px) {
        main {
            padding: 10px;
        }
        .tarjeta {
            padding: 15px;
        }
        .contenedor-reproductor {
            right: 10px;
            left: 10px;
            align-items: center;
        }
        .reproductor {
            width: 100%;
            max-width: 450px;
            justify-content: center;
        }
        .gif-baile {
            width: 100px;
            height: 100px;
        }
        .medusa {
            width: 50px;
            height: 50px;
        }
        .corazon {
            font-size: 14px;
        }
    }
    @media (max-width: 400px) {
        .medusa {
            width: 45px;
            height: 45px;
        }
        .gif-baile {
            width: 90px;
            height: 90px;
        }
        .reproductor {
            padding: 8px 15px;
        }
        .boton-musica {
            width: 42px;
            height: 42px;
            font-size: 18px;
        }
        .boton-skip {
            width: 38px;
            height: 38px;
            font-size: 16px;
        }
        .info-cancion {
            font-size: 0.9em;
            padding: 0 10px;
        }
        .dedicatoria {
            font-size: 0.75em;
        }
    }
</style>
</head>
<body>

<div id="welcome-screen">
    <h2>Haz clic para entrar</h2>
    <p>Lamento mucho si no es la gran cosa</p>
    <button id="enter-button">Entrar</button>
</div>

<main class="contenedor-principal">
    <h1>PARA MI NIÑA DRAMAS</h1>

    <section class="tarjeta">
        <div class="gif-container" onclick="toggleTexto(this)">
            <img src="gato1.gif" alt="Gato tierno">
            <div class="texto-oculto">
                <p>Este gatito representa lo tierna que eres cuando estás haciendo dramas. Es ese lado dulce que solo yo conozco.</p>
            </div>
        </div>
        
        <div class="seccion">
            <p>Adamari, mi niña bella, Hoy celebro el milagro de tu existencia, ese brillo único que hace que el mundo sea más cálido, más dulce, más tú.</p>
        </div>

        <div class="seccion">
            <p>Lo que más amo de ti:</p>
            <ul class="lista-amor">
                <li>Amor tus dramas y berrinches</li>
                <li>Tu hermosa mirada</li>
                <li>Tu corazoncito de pollo</li>
                <li>Tu esfuerzo día a día</li>
            </ul>
        </div>

        <div class="seccion">
            <p>Promesas para nuestro futuro:</p>
            <ul>
                <li>Seré tu refugio en los días difíciles</li>
                <li>Quiero vivir mi vida entera contigo recordándote cuanto te amo</li>
                <li>Construiremos mil recuerdos juntos</li>
                <li>Haré que cada día sea una nueva aventura</li>
            </ul>
        </div>
    </section>

    <section class="tarjeta">
        <div class="gif-container" onclick="toggleTexto(this)">
            <img src="gato2.gif" alt="Gato juguetón">
            <div class="texto-oculto">
                <p>Este gatito juguetón es como tú cuando te emocionas con las pequeñas cosas. Me encanta esa energía que pones en todo.</p>
            </div>
        </div>
        
        <div class="seccion">
            <p>Espero que tengas un cumpleaños lleno de felicidad, corazón, porque tú eres todo lo que amo, eres el latido que da vida a lo que soy. Te deseo años y años de grandeza, de plenitud que rebose en cada instante de tu camino.</p>
        </div>
        
        <div class="seccion">
            <p>Sueño con el día en que podamos compartir nuestra vida, no solo en palabras, sino en miradas, en risas, en silencios compartidos. Seremos tú y yo, celebrando no solo este día, sino cada momento que la vida nos regale, porque mereces que todos los días sean especiales.</p>
        </div>
        
        <div class="seccion">
            <p>Te amo, mi niña bella, con esa fuerza que solo conoce la verdad de un corazón entregado.</p>
        </div>
        
        <div class="seccion">
            <p>Un poema para ti, la tormenta tierna que amo:</p>
            <p>Eres terquedad que desafía al viento, consentida en caprichos, la reina del momento. Dramática, sí, y cómo no serlo, si llevas un universo entero dentro de ese pecho pequeño. Eres linda en tus arranques y tierna en tus susurros, una mezcla de fuego y caricia, un drama que me atrapa y me hace querer quedarme, una historia escrita con tinta de amor y locura. Adamari, mi niña, con cada drama me enamoro más, porque en esa terquedad tuya, en esa dulzura indomable, encuentro la razón para querer luchar por nosotros. Nada más quiero decirte hoy, salvo que celebres, que te ames, que te dejes querer, porque mereces lo mejor, hoy y siempre.</p>
        </div>
        
        <div class="firma">
            <p>Feliz cumpleaños, mi amor.</p>
            <p>Con todo mi ser,</p>
            <p>Jeampierre</p>
        </div>
    </section>

    <div class="galeria">
        <div class="imagen-container">
            <img src="IMG-20241118-WA0016.jpg" alt="Nuestra aventura 1" data-titulo="AMOR CON DEFECTOS, AMOR REAL" data-poema="Aunque tengas defectos,
aunque a veces te caigas,
yo te amo. No te voy a dejar,
porque amar de verdad
no es amar lo perfecto,
es amar lo real, lo tuyo,
con todo lo que eso implica.

No importa si te equivocas,
si tienes días grises,
porque el amor no se va
cuando aparecen sombras,
se queda, se pelea,
se arriesga, se construye.

Y yo elijo quedarme contigo,
porque eso es amar:
aceptarte sin condiciones,
amarte con el alma entera.">
        </div>
        
        <div class="imagen-container">
            <img src="IMG-20250315-WA0004.jpg" alt="Nuestra aventura 2" data-titulo="AMO TUS DRAMAS Y BERRINCHES" data-poema="Amo cómo eres,
con tus dramas y berrinches,
con ese puchero que me derrite.
Quiero verte, sentirte,
robarte un beso cuando te haces la difícil,
cuando me miras con esa mezcla
de enfado y ternura.

Tus berrinches son mi momento,
la excusa perfecta para acercarme,
para sostenerte en esa tormenta
que solo tú sabes provocar.

Porque en tu forma de ser,
en tus locuras y tu dulzura,
encuentro todo lo que deseo:
amarte sin miedo,
quererte sin pausa,
y quedarme siempre a tu lado.">
        </div>
    </div>
</main>

<div class="contenedor-reproductor">
    <img src="baile.gif" class="gif-baile" id="gifBaile" alt="Baile animado">
    <div class="dedicatoria" id="dedicatoria">Te dedico estas canciones amor ❤️</div>
    <div class="reproductor" id="reproductor">
        <button class="boton-skip" id="botonAnterior" aria-label="Canción anterior">⏮</button>
        <button class="boton-musica" id="botonPlay" aria-label="Reproducir/Pausar">▶</button>
        <button class="boton-skip" id="botonSiguiente" aria-label="Siguiente canción">⏭</button>
        <div class="info-cancion" id="infoCancion">Clic para reproducir</div>
        <div class="barra-progreso">
            <div class="progreso" id="barraProgreso"></div>
        </div>
    </div>
</div>

<audio id="reproductorAudio" loop></audio>

<div id="modalPoema" class="modal">
    <div class="modal-contenido">
        <span class="cerrar">&times;</span>
        <h2 id="modalTitulo"></h2>
        <p id="modalTextoPoema"></p>
    </div>
</div>

<script>
    // Configuración y elementos del DOM
    const canciones = [
        { nombre: "Cupid's Chokehold", archivo: "1.mp3" },
        { nombre: "Francés Limón", archivo: "2.mp3" }
    ];
    const audioPlayer = document.getElementById('reproductorAudio');
    const botonPlay = document.getElementById('botonPlay');
    const botonAnterior = document.getElementById('botonAnterior');
    const botonSiguiente = document.getElementById('botonSiguiente');
    const infoCancion = document.getElementById('infoCancion');
    const reproductorDiv = document.getElementById('reproductor');
    const gifBaile = document.getElementById('gifBaile');
    const barraProgreso = document.getElementById('barraProgreso');
    const dedicatoria = document.getElementById('dedicatoria');
    const modalPoema = document.getElementById("modalPoema");
    const spanCerrar = document.querySelector(".cerrar");
    const modalTitulo = document.getElementById("modalTitulo");
    const modalTextoPoema = document.getElementById("modalTextoPoema");
    const welcomeScreen = document.getElementById('welcome-screen');
    const enterButton = document.getElementById('enter-button');
    const mainContent = document.querySelector('main');
    const reproductorContainer = document.querySelector('.contenedor-reproductor');

    let indiceCancionActual = 0;
    let reproduccionIniciada = false;
    let intervaloProgreso;

    // Funcionalidad de la pantalla de bienvenida
    enterButton.addEventListener('click', () => {
        welcomeScreen.style.display = 'none';
        mainContent.style.opacity = '1';
        reproductorContainer.style.display = 'flex';
        iniciarReproduccion();
    });

    // Funcionalidad de los poemas en las imágenes
    document.querySelectorAll('.galeria img').forEach(img => {
        img.addEventListener('click', () => {
            const poema = img.dataset.poema;
            const titulo = img.dataset.titulo;
            if (poema && titulo) {
                modalTitulo.textContent = titulo;
                modalTextoPoema.textContent = poema;
                modalPoema.style.display = "block";
            }
        });
    });

    spanCerrar.addEventListener('click', () => {
        modalPoema.style.display = "none";
    });

    window.addEventListener('click', (event) => {
        if (event.target === modalPoema) {
            modalPoema.style.display = "none";
        }
    });

    // Funcionalidad de los GIFs con texto oculto
    function toggleTexto(container) {
        const texto = container.querySelector('.texto-oculto');
        texto.style.display = texto.style.display === 'block' ? 'none' : 'block';
    }

    // Lógica del reproductor de música
    function actualizarProgreso() {
        if (audioPlayer.duration) {
            const porcentaje = (audioPlayer.currentTime / audioPlayer.duration) * 100;
            barraProgreso.style.width = `${porcentaje}%`;
        }
    }

    function toggleElementosMusica(mostrar) {
        gifBaile.classList.toggle('activo', mostrar);
        dedicatoria.classList.toggle('mostrar', mostrar);
    }

    function cargarCancion(index) {
        indiceCancionActual = (index + canciones.length) % canciones.length;
        const cancion = canciones[indiceCancionActual];
        audioPlayer.src = cancion.archivo;
        audioPlayer.load();
        infoCancion.textContent = cancion.nombre;
        
        if (reproduccionIniciada) {
            audioPlayer.play().then(() => {
                botonPlay.textContent = "⏸";
                reproductorDiv.classList.remove('error');
                toggleElementosMusica(true);
                clearInterval(intervaloProgreso);
                intervaloProgreso = setInterval(actualizarProgreso, 100);
            }).catch(e => {
                console.error("Error al reproducir:", e);
                infoCancion.textContent = "Error de reproducción";
                botonPlay.textContent = "▶";
                reproductorDiv.classList.add('error');
                toggleElementosMusica(false);
            });
        }
    }

    function iniciarReproduccion() {
        if (reproduccionIniciada) return;
        reproduccionIniciada = true;
        cargarCancion(Math.floor(Math.random() * canciones.length));
    }
    
    // Eventos del reproductor
    botonPlay.addEventListener('click', () => {
        if (!reproduccionIniciada) {
            iniciarReproduccion();
        } else if (audioPlayer.paused) {
            audioPlayer.play().then(() => {
                botonPlay.textContent = "⏸";
                toggleElementosMusica(true);
                clearInterval(intervaloProgreso);
                intervaloProgreso = setInterval(actualizarProgreso, 100);
            });
        } else {
            audioPlayer.pause();
            botonPlay.textContent = "▶";
            toggleElementosMusica(false);
            clearInterval(intervaloProgreso);
        }
    });

    botonAnterior.addEventListener('click', () => cargarCancion(indiceCancionActual - 1));
    botonSiguiente.addEventListener('click', () => cargarCancion(indiceCancionActual + 1));
    audioPlayer.addEventListener('ended', () => cargarCancion(indiceCancionActual + 1));
    audioPlayer.addEventListener('error', () => {
        infoCancion.textContent = "Error de reproducción";
        botonPlay.textContent = "▶";
        reproductorDiv.classList.add('error');
        toggleElementosMusica(false);
        clearInterval(intervaloProgreso);
    });

    // Funcionalidad de las medusas y corazones
    function crearMedusas() {
        document.querySelectorAll('.medusa').forEach(el => el.remove());
        const zonasSeguras = [];
        const numMedusas = window.innerWidth > 600 ? 35 : 20;
        const margin = 100;
        
        for (let i = 0; i < numMedusas; i++) {
            let x, y, intentos = 0;
            let posicionValida = false;
            while (!posicionValida && intentos < 50) {
                x = margin + Math.random() * (window.innerWidth - 2 * margin);
                y = margin + Math.random() * (window.innerHeight - 2 * margin);
                posicionValida = zonasSeguras.every(pos => Math.sqrt(Math.pow(pos.x - x, 2) + Math.pow(pos.y - y, 2)) > 150);
                intentos++;
            }
            if (posicionValida) {
                zonasSeguras.push({x, y});
                const medusa = document.createElement("img");
                medusa.src = "medusa.gif";
                medusa.classList.add("medusa");
                medusa.style.left = x + "px";
                medusa.style.top = y + "px";
                medusa.style.animationDelay = (Math.random() * 5) + "s";
                medusa.style.animationDuration = (5 + Math.random() * 8) + "s";
                document.body.appendChild(medusa);
            }
        }
    }
    
    function iniciarLluviaCorazones() {
        const tiposCorazones = ['❤️', '💖', '💘', '💝', '💗', '💓', '💞'];
        setInterval(() => {
            const corazon = document.createElement("div");
            corazon.innerHTML = tiposCorazones[Math.floor(Math.random() * tiposCorazones.length)];
            corazon.classList.add("corazon");
            corazon.style.left = Math.random() * window.innerWidth + "px";
            corazon.style.animationDuration = (4 + Math.random() * 3) + "s";
            corazon.style.fontSize = (14 + Math.random() * 10) + "px";
            corazon.style.opacity = 0.6 + Math.random() * 0.4;
            document.body.appendChild(corazon);
            
            setTimeout(() => corazon.remove(), 6000);
        }, 1000 / 5);
    }

    // Inicialización al cargar la página
    window.addEventListener('DOMContentLoaded', () => {
        crearMedusas();
        iniciarLluviaCorazones();
    });

    window.addEventListener('resize', crearMedusas);
</script>

</body>
</html>
